"use strict";(self.webpackChunkmylibrary=self.webpackChunkmylibrary||[]).push([[179],{42:(e,t,n)=>{n.d(t,{v:()=>$,F:()=>N});var o=n(588);function a(e,t,n){const o=window.document.querySelectorAll(".card");for(let a=e;a<n;a++)o[t].setAttribute("data-bookindex",a),t++}var d=n(250),i=n(573);let l;function s(){let e=this.parentElement.parentElement.parentElement;l=document.querySelectorAll(".card"),function(e){let t,n=Number(e.dataset.bookindex),i=Number(l[l.length-1].dataset.bookindex);e.classList.toggle("hide");for(let n=0;n<l.length;n++)l[n]===e&&(t=n),l[n].style.pointerEvents="none";let s=t+1;for(let e=n;e<i;e++){let e=l[s].getBoundingClientRect(),t=l[s].previousElementSibling.getBoundingClientRect();l[s].style.transform=`translate(${t.x-e.x}px, ${t.y-e.y}px)`,s++}o.O.splice(e.dataset.bookindex,1),setTimeout((()=>{e.remove(),s=t,a(n,s,i),(0,d.D)(),$(void 0,o.O)}),650)}(e),(0,i.O)("allBooks")}function r(e="",t="",n="",o="",a=!1){this.title=e,this.authors=t,this.pageCount=n,this.backgroundImage=o,this.read=a}function c(e){const t=document.querySelector("#addBookTitle"),n=document.querySelector("#addBookAuthor"),l=document.querySelector("#addBookPages"),s=document.querySelector("#addBookCover"),c=document.querySelector("#addBookRead");e.preventDefault();const u=new r(t.value,n.value,l.value,s.value,c.checked);o.O.push(u),t.value="",n.value="",l.value="",s.value="",c.checked=!1;let p=o.O[o.O.length-1];a(p,p,p),(0,d.D)(),$(void 0,o.O),(0,i.O)("book",o.O[o.O.length-1],o.O.length-1)}function u(e){const t=e.target.parentElement,n=new r(t.childNodes[1].textContent.slice(7),t.childNodes[2].textContent.slice(8),t.childNodes[3].textContent.slice(7),t.previousElementSibling.childNodes[0].src,t.childNodes[4].childNodes[1].checked);o.O.push(n),(0,i.O)("book",o.O[o.O.length-1],o.O.length-1)}function p(e){const t=e.target.parentElement.parentElement.parentElement.parentElement,n=e.target,a=n.previousElementSibling.children[1],d=n.previousElementSibling;!1===n.checked?a.remove():d.innerHTML=d.innerHTML+'<path d="M15.8 10.7c.3.3.3.8 0 1l-4.5 4.6a.8.8 0 0 1-1 0l-2-2a.8.8 0 0 1 1-1l1.4 1.4 4-4c.3-.3.8-.3 1 0Z"/>',0===N.length&&(!1===n.checked?o.O[t.dataset.bookindex].read=!1:o.O[t.dataset.bookindex].read=!0),(0,i.O)("book",{read:n.checked},t.dataset.bookindex)}function m(e){let t=e.target,n=t.parentElement.parentElement.parentElement;if(null!==document.querySelector(".showAllParagraphText")&&document.querySelector(".showAllParagraphText").remove(),"cardParagraphs"===t.className&&t.textContent.length>35){t.style.cursor="pointer",t.style.userSelect="none";let e=document.createElement("div");n.appendChild(e),e.classList.add("showAllParagraphText"),e.textContent=t.textContent,e.style.left=(t.offsetWidth-e.offsetWidth)/2+"px",e.style.top=t.offsetTop/2+"px",n.addEventListener("mouseleave",h)}}function g(e){let t=e.target;if(t.textContent.length>35){null!==document.querySelector(".copied")&&document.querySelector(".copied").remove(),navigator.clipboard.writeText(t.textContent);const n=document.createElement("p");document.querySelector("#booksDisplay").appendChild(n),n.style.left=e.pageX+10+"px",n.style.top=e.pageY+"px",n.textContent="Copied!",n.classList.add("copied"),setTimeout((()=>{n.remove()}),650)}}function h(){null!==document.querySelector(".showAllParagraphText")&&document.querySelector(".showAllParagraphText").remove(),null!==document.querySelector(".copied")&&document.querySelector(".copied").remove()}var C=n(471),v=n(781),L=n(352);const b=document.querySelector("body"),k=document.querySelector("#uiOptionsButton"),x=document.querySelector("#sortingOptionsButton"),y=document.querySelector("#addBookButton"),E=document.querySelector("#authenticationFormButton"),f=document.querySelector("#clearDataOptionsButton");function S(e,t){const n=document.querySelector(t),o=document.querySelector(".activeOptionsMenu");null!==n?(n.remove(),n.classList.contains("editBookFormContainer")&&I(e,t)):null!==o?(o.remove(),I(e,t)):I(e,t)}function I(e,t){const n=document.createElement("div"),o=document.createElement("div"),a=document.createElement("h3");n.classList.add("activeOptionsMenu"),o.classList.add("exitOptionsButton"),a.classList.add("optionsHeaders"),o.textContent="x",o.addEventListener("click",(()=>n.remove())),b.appendChild(n),n.appendChild(o),n.appendChild(a),e(n,a,t)}function O(e,t){const n=document.createElement("button"),o=document.createElement("button");e.classList.add("uiOptionsContainer"),n.classList.add("button"),o.classList.add("button"),t.textContent="UI Styling",n.textContent="UI Colors",o.textContent="Background",n.addEventListener("click",(()=>S(B,".UIColorOptionsContainer"))),o.addEventListener("click",(()=>S(w,".backgroundOptionsContainer"))),e.appendChild(n),e.appendChild(o)}function w(e,t){const n=document.querySelector("#mainBackgroundImage"),o=document.createElement("p"),a=document.createElement("a"),d=document.createElement("label"),l=document.createElement("input"),s=document.createElement("fieldset"),r=document.createElement("legend"),c=document.createElement("input"),u=document.createElement("button");e.classList.add("backgroundOptionsContainer"),a.classList.add("optionsLinks"),l.classList.add("uploadBackgroundInput"),d.classList.add("button"),c.classList.add("inputTypeText"),u.classList.add("button"),t.textContent="Background Options",o.textContent="Change background by either uploading the image or linking to the URL. SVG format and/or repeating patterns highly recommended.",a.innerHTML="Try <span>Haikei!</span>",d.textContent="Upload",r.textContent="URL","fixed"===C.AQ.backgroundPosition?u.textContent="Fixed":u.textContent="Repeating",c.setAttribute("placeholder","https://backgroundImage.com"),a.href="https://haikei.app/",a.target="_blank",l.type="file",l.accept="image/*",c.type="url",l.addEventListener("change",(()=>{const e=document.querySelector(".uploadBackgroundInput").files[0],t=new FileReader;t.addEventListener("load",(function(){n.style.backgroundImage=`url(${t.result})`,C.AQ.backgroundImage=`url(${t.result})`,(0,i.O)("settings",{backgroundImage:`url(${t.result})`})}),!1),e&&t.readAsDataURL(e)})),c.addEventListener("change",(()=>{n.style.backgroundImage=`url(${c.value})`,C.AQ.backgroundImage=`url(${c.value})`,(0,i.O)("settings",{backgroundImage:`url(${c.value})`})})),u.addEventListener("click",(()=>{"Fixed"===u.textContent?(u.textContent="Repeating",n.style.position="absolute",n.style.backgroundSize="100%",C.AQ.backgroundPosition="absolute",C.AQ.backgroundSize="100%",(0,i.O)("settings",{backgroundPosition:"absolute",backgroundSize:"100%"})):(u.textContent="Fixed",n.style.position="fixed",n.style.backgroundSize="cover",C.AQ.backgroundPosition="fixed",C.AQ.backgroundSize="cover",(0,i.O)("settings",{backgroundPosition:"fixed",backgroundSize:"cover"}))})),e.appendChild(o),e.appendChild(a),e.appendChild(d),e.appendChild(s),e.appendChild(u),d.appendChild(l),s.appendChild(r),s.appendChild(c)}function B(e,t){const n=getComputedStyle(document.documentElement),o=document.querySelector(":root"),a=n.getPropertyValue("--ui-background-color"),d=n.getPropertyValue("--main-text-color"),l=n.getPropertyValue("--secondary-text-color"),s=n.getPropertyValue("--exit-button-color"),r=document.createElement("div"),c=document.createElement("label"),u=document.createElement("input"),p=document.createElement("label"),m=document.createElement("input"),g=document.createElement("label"),h=document.createElement("input"),v=document.createElement("label"),L=document.createElement("input");e.classList.add("UIColorOptionsContainer"),r.classList.add("uiColorContainer"),c.classList.add("uiOptionsLabels"),p.classList.add("uiOptionsLabels"),g.classList.add("uiOptionsLabels"),v.classList.add("uiOptionsLabels"),t.textContent="UI Colors",c.textContent="UI Background",p.textContent="Main text",g.textContent="Secondary text",v.textContent="Exit button",u.type="color",m.type="color",h.type="color",L.type="color",u.value=a,m.value=d,h.value=l,L.value=s,u.addEventListener("input",(()=>{o.style.setProperty("--ui-background-color",u.value),C.AQ.uiBackground=u.value})),u.addEventListener("change",(()=>(0,i.O)("settings",{uiBackground:u.value}))),m.addEventListener("input",(()=>{o.style.setProperty("--main-text-color",m.value),C.AQ.mainText=m.value})),m.addEventListener("change",(()=>(0,i.O)("settings",{mainText:m.value}))),h.addEventListener("input",(()=>{o.style.setProperty("--secondary-text-color",h.value),C.AQ.secondaryText=h.value})),h.addEventListener("change",(()=>(0,i.O)("settings",{secondaryText:h.value}))),L.addEventListener("input",(()=>{o.style.setProperty("--exit-button-color",L.value),C.AQ.exitButton=L.value})),L.addEventListener("change",(()=>(0,i.O)("settings",{exitButton:L.value}))),e.appendChild(r),r.appendChild(c),c.appendChild(u),r.appendChild(p),p.appendChild(m),r.appendChild(g),g.appendChild(h),r.appendChild(v),v.appendChild(L)}function A(e,t,n){const a=["titleFieldset","authorFieldset","pagesFieldset","coverFieldset"],l=["titleLegend","authorLegend","pagesLegend","coverLegend"],s=["titleInput","authorInput","pagesInput","coverInput"],r=["Title","Author","Pages","Book Cover"],u={},p=document.createElement("form"),m=document.createElement("label"),g=document.createElement("input"),h=document.createElement("span"),C=document.createElement("button");for(let e=0;e<4;e++)u[a[e]]=document.createElement("fieldset"),u[l[e]]=document.createElement("legend"),u[s[e]]=document.createElement("input"),u[s[e]].classList.add("inputTypeText"),u[s[e]].type="text",u[l[e]].textContent=r[e],p.appendChild(u[a[e]]),u[a[e]].appendChild(u[l[e]]),u[a[e]].appendChild(u[s[e]]);if(u.pagesInput.type="number",g.type="checkbox",p.id="form",u.titleInput.id="addBookTitle",u.authorInput.id="addBookAuthor",u.pagesInput.id="addBookPages",u.coverInput.id="addBookCover",m.id="checkboxContainer",g.id="addBookRead",C.id="bookFormSubmit",h.classList.add("customCheckbox"),g.classList.add("checkbox"),C.classList.add("button"),C.textContent="Confirm",e.appendChild(p),p.appendChild(m),p.appendChild(C),m.appendChild(g),m.appendChild(h),".addBookFormContainer"===n)e.classList.add("addBookFormContainer"),t.textContent="Add book",C.addEventListener("click",c);else{e.classList.add("editBookFormContainer"),t.textContent="Edit book";let n=event.target.parentElement.parentElement.parentElement;const a=n.dataset.bookindex;n=o.O[a],u.titleInput.value=n.title,u.authorInput.value=n.authors,u.pagesInput.value=n.pageCount,u.coverInput.value=n.backgroundImage,g.checked=n.read,C.addEventListener("click",(t=>{t.preventDefault(),n.title=u.titleInput.value,n.authors=u.authorInput.value,n.pageCount=u.pagesInput.value,n.backgroundImage=u.coverInput.value,!0===g.checked?n.read=!0:n.read=!1,e.remove(),(0,i.O)("book",{title:n.title,authors:n.authors,pageCount:n.pageCount,backgroundImage:n.backgroundImage,read:n.read},a),(0,d.D)(),$(void 0,o.O)}))}}function P(e,t,n){const o=document.createElement("form"),a=document.createElement("fieldset"),d=document.createElement("fieldset"),i=document.createElement("legend"),l=document.createElement("legend"),s=document.createElement("input"),r=document.createElement("input"),c=document.createElement("button"),u=document.createElement("a"),p=document.createElement("div");e.classList.add("authenticationFormContainer"),o.classList.add("authenticationForm"),s.classList.add("inputTypeText"),r.classList.add("inputTypeText"),c.classList.add("button"),u.classList.add("loginRegisterText"),p.classList.add("loginWithGoogleButton"),s.id="emailInput",r.id="passwordInput",c.id="loginRegisterButton",i.textContent="Email",l.textContent="Password",p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.6 20H24v8h11.3A12 12 0 1 1 32 15l5.6-5.6A20 20 0 0 0 4 24a20 20 0 1 0 39.6-4z"/><path fill="#FF3D00" d="m6.3 14.7 6.6 4.8a12 12 0 0 1 19-4.5l5.7-5.6a20 20 0 0 0-31.3 5.3z"/><path fill="#4CAF50" d="M24 44c5.2 0 9.9-2 13.4-5.2l-6.2-5.2A12 12 0 0 1 12.7 28l-6.5 5A20 20 0 0 0 24 44z"/><path fill="#1976D2" d="M43.6 20H24v8h11.3a12 12 0 0 1-4 5.6l6.1 5.2C37 39.2 44 34 44 24c0-1.3-.1-2.6-.4-4z"/></svg> <p>Sign in with Google</p>',p.addEventListener("click",v.sE),e.appendChild(o),o.appendChild(a),o.appendChild(d),o.appendChild(c),o.appendChild(u),o.appendChild(p),a.appendChild(i),a.appendChild(s),d.appendChild(l),d.appendChild(r),".loginFormContainer"===n?(t.textContent="Login",c.textContent="Login",u.innerHTML="Don't have an account? Register <span>here.</span>",u.addEventListener("click",(()=>{S(P,".registerFormContainer")})),c.addEventListener("click",(e=>{e.preventDefault(),(0,v.pH)(s.value,r.value)}))):(t.textContent="Register",c.textContent="Register",u.innerHTML="Already have an account? Login <span>here.</span>",u.addEventListener("click",(()=>{S(P,".loginFormContainer")})),c.addEventListener("click",(e=>{e.preventDefault(),(0,v.r4)(s.value,r.value)})))}function T(e,t){const n=document.createElement("div"),o=document.createElement("button"),a=document.createElement("button"),d=document.createElement("button"),i=document.createElement("button"),l=document.createElement("button");e.classList.add("bookFilterOptionsContainer"),n.classList.add("ascendingDescendingContainer"),o.classList.add("button"),a.classList.add("button"),d.classList.add("button"),i.classList.add("button"),l.classList.add("button"),d.id="sortTitles",i.id="sortAuthors",l.id="sortPages",t.textContent="Sorting",o.textContent="Ascending",a.textContent="Descending",d.textContent="Sort Titles",i.textContent="Sort Authors",l.textContent="Sort Pages";let s="ascending";o.addEventListener("click",(()=>s="ascending")),a.addEventListener("click",(()=>s="descending")),d.addEventListener("click",(()=>(0,L.q)(s,"title"))),i.addEventListener("click",(()=>(0,L.q)(s,"authors"))),l.addEventListener("click",(()=>(0,L.q)(s,"pages"))),e.appendChild(n),e.appendChild(d),e.appendChild(i),e.appendChild(l),n.appendChild(o),n.appendChild(a)}function F(e,t){const n=document.createElement("p"),o=document.createElement("p"),a=document.createElement("button"),d=document.createElement("button");e.classList.add("clearDataOptionsContainer"),a.classList.add("button"),d.classList.add("button"),t.textContent="Clear Data",n.innerHTML="'Clear Books' will delete ALL books in your very own library.",a.textContent="Clear Books",o.textContent="'Clear Settings' will set the UI colors and background back to the default.",d.textContent="Clear Settings",a.addEventListener("click",(()=>{document.querySelector(".confirmationWindow")||M(e,"books")})),d.addEventListener("click",(()=>{document.querySelector(".confirmationWindow")||M(e,"settings")})),e.appendChild(n),e.appendChild(a),e.appendChild(o),e.appendChild(d)}function M(e,t){const n=document.createElement("div"),o=document.createElement("button"),a=document.createElement("button");n.classList.add("confirmationWindow"),o.classList.add("button"),a.classList.add("button"),o.textContent="Yes",a.textContent="No","books"===t?(n.textContent="Are you sure you want to delete ALL books?",o.addEventListener("click",(()=>{(0,i.N)("books"),n.remove()}))):"settings"===t&&(n.textContent="Are you sure you want to clear ALL settings?",o.addEventListener("click",(()=>{(0,i.N)("settings"),n.remove()}))),a.addEventListener("click",(()=>n.remove())),e.appendChild(n),n.appendChild(o),n.appendChild(a)}function z(e){const t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),d=document.createElement("img"),i=document.createElement("div"),l=document.createElement("img"),r=document.createElement("label"),c=document.createElement("input");let h=document.createElement("p"),C=document.createElement("p");const v=document.createElement("p"),L=document.createElement("div");let b;if(t.classList.add("card"),n.classList.add("flipCardInner"),a.classList.add("flipCardFront"),d.classList.add("flipCardFrontImg"),i.classList.add("flipCardBack"),l.classList.add("flipCardBackImg"),r.classList.add("isReadCheckboxLabel"),c.classList.add("isReadCheckbox"),L.classList.add("flipCardBackColouredBackground"),h.classList.add("cardParagraphs"),C.classList.add("cardParagraphs"),v.classList.add("cardParagraphs"),c.addEventListener("click",p),t.addEventListener("mouseover",m),h.addEventListener("click",g),C.addEventListener("click",g),t.addEventListener("mouseenter",(()=>{clearTimeout(b),i.style.contentVisibility="visible",i.style.visibility="visible"})),t.addEventListener("mouseleave",(()=>{b=setTimeout((()=>{i.style.contentVisibility="hidden",i.style.visibility="hidden"}),650)})),t.setAttribute("data-bookindex",o.O.indexOf(e)),d.setAttribute("alt","Book cover"),l.setAttribute("loading","lazy"),l.setAttribute("alt","Book cover"),c.type="checkbox",!0===e.read?r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.5 2.5c.9-.7 2.1-.7 3 0l6.7 5.7c.5.5.8 1 .8 1.8v9.7c0 1-.8 1.8-1.8 1.8H4.8c-1 0-1.8-.8-1.8-1.8V10c0-.7.3-1.3.8-1.8l6.7-5.7Zm2 1.2a.8.8 0 0 0-1 0L4.8 9.4c-.2.1-.3.3-.3.6v9.7c0 .2.1.3.3.3h14.4c.2 0 .3-.1.3-.3V10c0-.3-.1-.5-.3-.6l-6.7-5.7Z"/><path d="M15.8 10.7c.3.3.3.8 0 1l-4.5 4.6a.8.8 0 0 1-1 0l-2-2a.8.8 0 0 1 1-1l1.4 1.4 4-4c.3-.3.8-.3 1 0Z"/></svg>':r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.5 2.5c.9-.7 2.1-.7 3 0l6.7 5.7c.5.5.8 1 .8 1.8v9.7c0 1-.8 1.8-1.8 1.8H4.8c-1 0-1.8-.8-1.8-1.8V10c0-.7.3-1.3.8-1.8l6.7-5.7Zm2 1.2a.8.8 0 0 0-1 0L4.8 9.4c-.2.1-.3.3-.3.6v9.7c0 .2.1.3.3.3h14.4c.2 0 .3-.1.3-.3V10c0-.3-.1-.5-.3-.6l-6.7-5.7Z"/></svg>',a.appendChild(d),i.appendChild(L),i.appendChild(h),i.appendChild(C),i.appendChild(v),i.appendChild(r),r.appendChild(c),0!==N.length){e.hasOwnProperty("imageLinks")?(d.src=e.imageLinks.thumbnail,l.src=e.imageLinks.thumbnail):(a.innerHTML='IMAGE NOT<br>AVAILABLE<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 470 470"><path d="M271 127.09v65.2a7.5 7.5 0 1 0 15 0v-65.2a7.5 7.5 0 1 0-15 0zM467.8 435.98l-58.54-58.54a7.5 7.5 0 0 0-10.6 0l-5.3 5.3-10.85-10.84A97.08 97.08 0 0 0 406 308.5c0-53.76-43.74-97.5-97.5-97.5S211 254.74 211 308.5s43.74 97.5 97.5 97.5a97.08 97.08 0 0 0 63.4-23.5l10.85 10.85-5.3 5.3a7.5 7.5 0 0 0 0 10.61l58.53 58.54a7.48 7.48 0 0 0 10.61 0l21.21-21.21a7.5 7.5 0 0 0 0-10.6zM226 308.5c0-45.5 37-82.5 82.5-82.5s82.5 37 82.5 82.5-37.01 82.5-82.5 82.5-82.5-37.01-82.5-82.5zm215.29 143.4-47.94-47.94 5.3-5.3 5.3-5.31 47.94 47.94-10.6 10.6z"/><path d="M229.22 391H15V15h196.41v82.09a7.5 7.5 0 0 0 7.5 7.5H301v83.9a7.5 7.5 0 1 0 15 0V97.1c0-.25-.02-.5-.04-.75l-.08-.55-.03-.18a7.3 7.3 0 0 0-.16-.63l-.02-.08a7.36 7.36 0 0 0-.22-.62l-.03-.07c-.08-.2-.17-.38-.26-.57l-.05-.1-.3-.5-.08-.12c-.1-.16-.21-.3-.33-.45l-.1-.14c-.15-.18-.3-.34-.46-.5l-.04-.05L224.21 2.2l-.05-.06a7.5 7.5 0 0 0-.49-.44l-.17-.12c-.14-.1-.27-.22-.42-.31l-.15-.1c-.16-.1-.32-.2-.48-.28l-.11-.05c-.18-.1-.36-.19-.55-.27l-.08-.02c-.2-.08-.4-.16-.61-.22l-.08-.03-.63-.15-.2-.03a7.2 7.2 0 0 0-1.28-.12H7.5A7.5 7.5 0 0 0 0 7.5v391a7.5 7.5 0 0 0 7.5 7.5h221.72a7.5 7.5 0 1 0 0-15zm-2.8-365.4 63.97 63.99h-63.98V25.6z"/><path d="M308.5 241c-37.22 0-67.5 30.28-67.5 67.5s30.28 67.5 67.5 67.5 67.5-30.28 67.5-67.5-30.28-67.5-67.5-67.5zm0 120c-28.95 0-52.5-23.55-52.5-52.5s23.55-52.5 52.5-52.5 52.5 23.55 52.5 52.5-23.55 52.5-52.5 52.5zM112.11 191.4l63.2 66.68a7.5 7.5 0 0 0 10.88 0l43.92-46.34 3.73 3.94a7.5 7.5 0 1 0 10.89-10.31l-9.18-9.7a7.5 7.5 0 0 0-10.89 0l-43.91 46.35-63.2-66.68a7.5 7.5 0 0 0-10.88 0l-74.61 78.73a7.5 7.5 0 0 0-2.06 5.16V368.5a7.5 7.5 0 0 0 7.5 7.5h167.1a7.5 7.5 0 1 0 0-15H45v-98.78l67.11-70.81z"/><path d="M149.15 160.87c0 17.42 14.17 31.6 31.6 31.6s31.6-14.18 31.6-31.6-14.18-31.6-31.6-31.6-31.6 14.17-31.6 31.6zm48.2 0c0 9.15-7.45 16.6-16.6 16.6-9.16 0-16.6-7.45-16.6-16.6s7.44-16.6 16.6-16.6c9.15 0 16.6 7.44 16.6 16.6zM188.91 30H37.5a7.5 7.5 0 0 0-7.5 7.5v178.12a7.5 7.5 0 1 0 15 0V45h143.91a7.5 7.5 0 1 0 0-15z"/></svg>',l.remove()),h.textContent=void 0===e.title?"Title: Unknown":`Title: ${e.title}`,C.textContent=void 0===e.authors?"Author: Unknown":`Author: ${e.authors}`,v.textContent=void 0===e.pageCount?"Pages: Unknown":`Pages: ${e.pageCount}`;const t=document.createElement("div"),n=document.createElement("div");n.textContent="+",t.classList.add("topLeftBookContainer"),n.classList.add("topLeftBookSymbol"),t.addEventListener("click",u),i.appendChild(t),t.appendChild(n)}else{d.src=e.backgroundImage,l.src=e.backgroundImage,h.textContent=`Title: ${e.title}`,C.textContent=`Author: ${e.authors}`,v.textContent=`Pages: ${e.pageCount}`;const t=document.createElement("div"),n=document.createElement("div");n.textContent="+",t.classList.add("topRightBookContainer"),n.classList.add("topRightBookSymbol"),t.addEventListener("click",s),i.appendChild(t),t.appendChild(n);const o=document.createElement("div");o.classList.add("topLeftBookContainer","editBookButton"),i.appendChild(o),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 217.9 217.9"><path d="M216 54 164 2a8 8 0 0 0-10 0L4 152c-2 1-2 3-2 5l-2 53a8 8 0 0 0 8 8l53-2 5-2L216 64c3-3 3-8 0-10zM57 201l-42 2 2-42 91-92 40 41-91 91zm102-101-41-41 41-41 41 41-41 41z"/></svg>';o.childNodes[0].classList.add("topLeftBookSymbol"),o.addEventListener("click",(()=>{S(A,".editBookFormContainer")}))}d.onerror=()=>{a.innerHTML='IMAGE<br>NOT<br>AVAILABLE<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 470 470"><path d="M271 127.09v65.2a7.5 7.5 0 1 0 15 0v-65.2a7.5 7.5 0 1 0-15 0zM467.8 435.98l-58.54-58.54a7.5 7.5 0 0 0-10.6 0l-5.3 5.3-10.85-10.84A97.08 97.08 0 0 0 406 308.5c0-53.76-43.74-97.5-97.5-97.5S211 254.74 211 308.5s43.74 97.5 97.5 97.5a97.08 97.08 0 0 0 63.4-23.5l10.85 10.85-5.3 5.3a7.5 7.5 0 0 0 0 10.61l58.53 58.54a7.48 7.48 0 0 0 10.61 0l21.21-21.21a7.5 7.5 0 0 0 0-10.6zM226 308.5c0-45.5 37-82.5 82.5-82.5s82.5 37 82.5 82.5-37.01 82.5-82.5 82.5-82.5-37.01-82.5-82.5zm215.29 143.4-47.94-47.94 5.3-5.3 5.3-5.31 47.94 47.94-10.6 10.6z"/><path d="M229.22 391H15V15h196.41v82.09a7.5 7.5 0 0 0 7.5 7.5H301v83.9a7.5 7.5 0 1 0 15 0V97.1c0-.25-.02-.5-.04-.75l-.08-.55-.03-.18a7.3 7.3 0 0 0-.16-.63l-.02-.08a7.36 7.36 0 0 0-.22-.62l-.03-.07c-.08-.2-.17-.38-.26-.57l-.05-.1-.3-.5-.08-.12c-.1-.16-.21-.3-.33-.45l-.1-.14c-.15-.18-.3-.34-.46-.5l-.04-.05L224.21 2.2l-.05-.06a7.5 7.5 0 0 0-.49-.44l-.17-.12c-.14-.1-.27-.22-.42-.31l-.15-.1c-.16-.1-.32-.2-.48-.28l-.11-.05c-.18-.1-.36-.19-.55-.27l-.08-.02c-.2-.08-.4-.16-.61-.22l-.08-.03-.63-.15-.2-.03a7.2 7.2 0 0 0-1.28-.12H7.5A7.5 7.5 0 0 0 0 7.5v391a7.5 7.5 0 0 0 7.5 7.5h221.72a7.5 7.5 0 1 0 0-15zm-2.8-365.4 63.97 63.99h-63.98V25.6z"/><path d="M308.5 241c-37.22 0-67.5 30.28-67.5 67.5s30.28 67.5 67.5 67.5 67.5-30.28 67.5-67.5-30.28-67.5-67.5-67.5zm0 120c-28.95 0-52.5-23.55-52.5-52.5s23.55-52.5 52.5-52.5 52.5 23.55 52.5 52.5-23.55 52.5-52.5 52.5zM112.11 191.4l63.2 66.68a7.5 7.5 0 0 0 10.88 0l43.92-46.34 3.73 3.94a7.5 7.5 0 1 0 10.89-10.31l-9.18-9.7a7.5 7.5 0 0 0-10.89 0l-43.91 46.35-63.2-66.68a7.5 7.5 0 0 0-10.88 0l-74.61 78.73a7.5 7.5 0 0 0-2.06 5.16V368.5a7.5 7.5 0 0 0 7.5 7.5h167.1a7.5 7.5 0 1 0 0-15H45v-98.78l67.11-70.81z"/><path d="M149.15 160.87c0 17.42 14.17 31.6 31.6 31.6s31.6-14.18 31.6-31.6-14.18-31.6-31.6-31.6-31.6 14.17-31.6 31.6zm48.2 0c0 9.15-7.45 16.6-16.6 16.6-9.16 0-16.6-7.45-16.6-16.6s7.44-16.6 16.6-16.6c9.15 0 16.6 7.44 16.6 16.6zM188.91 30H37.5a7.5 7.5 0 0 0-7.5 7.5v178.12a7.5 7.5 0 1 0 15 0V45h143.91a7.5 7.5 0 1 0 0-15z"/></svg>',l.remove()},C.textContent=C.textContent.replace(/,(?=[^\s])/g,", ");let k=h.textContent.slice(35);h.textContent=h.textContent.slice(0,35);let x=C.textContent.slice(35);C.textContent=C.textContent.slice(0,35),h.innerHTML=`${h.textContent}<span>${k}</span>`,C.innerHTML=`${C.textContent}<span>${x}</span>`,booksDisplay.appendChild(t),t.appendChild(n),n.appendChild(a),n.appendChild(i),i.appendChild(l),!0===e.read?c.checked=!0:c.checked=!1}k.addEventListener("click",(()=>S(O,".uiOptionsContainer"))),x.addEventListener("click",(()=>S(T,".bookFilterOptionsContainer"))),f.addEventListener("click",(()=>S(F,".clearDataOptionsContainer"))),y.addEventListener("click",(()=>S(A,".addBookFormContainer"))),E.addEventListener("click",(()=>{"Login"===E.textContent&&S(P,".loginFormContainer")}));var q=n(746);let D=(e,t)=>{e.forEach((e=>{!1===e.isIntersecting?e.target.classList.add("hide"):e.target.classList.remove("hide")}))},H=document.querySelectorAll(".card"),N=[],V=[];function $(e,t){if(void 0!==e&&(N=Array.from(e)),void 0!==t&&(V=Array.from(t)),(0,q.b)(H),0!==N.length)for(let e=o.C.startIndex;e<o.C.startIndex+40;e++)N[e]&&z(N[e]);else for(let e=o.C.startIndex;e<o.C.startIndex+40;e++)V[e]&&z(V[e]);o.C.startIndex=0,H=document.querySelectorAll(".card"),function(e){let t=new IntersectionObserver(D,{root:null,rootMargin:"0px",threshold:0,delay:350});e.forEach((e=>t.observe(e)))}(H)}},781:(e,t,n)=>{n.d(t,{I8:()=>u,r4:()=>b,pH:()=>k,sE:()=>x,Sx:()=>E,$4:()=>f,X6:()=>S,u8:()=>I,N6:()=>O,VP:()=>w,e:()=>B,rL:()=>A,F7:()=>P});var o=n(503),a=n(336),d=n(588),i=n(471),l=n(564),s=n(573);const r=(0,o.ZF)({apiKey:"AIzaSyBZQlasiygfXSG7iKMwkpanVK8F_D4hDzQ",authDomain:"mylibrary3.firebaseapp.com",databaseURL:"https://mylibrary3-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"mylibrary3",storageBucket:"mylibrary3.appspot.com",messagingSenderId:"209783491184",appId:"1:209783491184:web:0e6c7592f905e82c9982b5",measurementId:"G-8JDWF4X4CD"}),c=new a.hJ,u=(0,a.v0)(r),p=document.querySelector("#authenticationFormButton");let m,g,h,C,v,L;async function b(e,t){try{await(0,a.Xb)(u,e,t);console.log("New user created")}catch(e){console.log(e)}}async function k(e,t){try{await(0,a.e5)(u,e,t);console.log("User logged in")}catch(e){console.log(e)}}function x(){(0,a.rh)(u,c).then((e=>{})).catch((e=>{console.log(e)}))}function y(){u.signOut().then((()=>{console.log("Signed out"),p.textContent="Login"}))}async function E(){p.addEventListener("click",y),p.textContent="Logout";const e=document.querySelector(".authenticationFormContainer");null!==e&&e.remove()}function f(){p.removeEventListener("click",y),p.textContent="Login"}function S(){const e=m();v(C(e,"users/"+d.C.userID),{settings:i.AQ,books:d.O})}function I(e,t){const n=m();L(C(n,"users/"+d.C.userID+"/books/"+t),e)}function O(){const e=m();L(C(e,"users/"+d.C.userID),{books:d.O})}function w(e){const t=m();L(C(t,"users/"+d.C.userID+"/settings"),e)}async function B(){const e=m();for(await L(C(e,"users/"+d.C.userID),{books:[]});0!==d.O.length;)d.O.pop();(0,l.F)()}async function A(){const e=m(),t=C(m());await L(C(e,"users/"+d.C.userID+"/settings"),i._1),g(h(t,`users/${d.C.userID}/settings`)).then((e=>{d.C.userSettingsOnCloud=e.val(),(0,i.ri)()}))}async function P(){await async function(){const e=await n.e(956).then(n.bind(n,956));m=e.getDatabase,g=e.get,h=e.child,C=e.ref,v=e.set,L=e.update}();const e=C(m());g(h(e,`users/${d.C.userID}`)).then((e=>{if(e.exists()){for(;0!==d.O.length;)d.O.pop();void 0!==e.val().books&&d.O.push(...e.val().books),d.C.userSettingsOnCloud=e.val().settings}else(0,s.O)();(0,i.ri)(),(0,l.F)()})).catch((e=>{console.error(e)}))}},573:(e,t,n)=>{n.d(t,{O:()=>s,N:()=>r});var o=n(781),a=n(902),d=n(471),i=n(588),l=n(564);function s(e,t,n){!0===i.C.isLoggedIn?"book"===e?(0,o.u8)(t,n):"allBooks"===e?(0,o.N6)():"settings"===e?(0,o.VP)(t):(0,o.X6)(i.C.userID):(0,a.Z)()}function r(e){if(!0===i.C.isLoggedIn)"books"===e?(0,o.e)():"settings"===e&&(0,o.rL)();else if(!1===i.C.isLoggedIn)if("books"===e){for(window.localStorage.setItem("userLibrary",JSON.stringify([]));0!==i.O.length;)i.O.pop();(0,l.F)()}else"settings"===e&&(window.localStorage.setItem("userSettings",JSON.stringify(d._1)),(0,d.ri)())}},250:(e,t,n)=>{n.d(t,{w:()=>l,D:()=>s});var o=n(588),a=n(42),d=n(746);let i=document.querySelector("#pages").childNodes;function l(e){let t=0,n=0;(0,d.L)(i);for(let o=0;o<e;o+=40)t++,o<400&&n++;if(0===e&&(t=1),0!==a.F.length)for(let e=1;e<n+1;e++){const t=document.createElement("p");t.textContent=e,pages.appendChild(t)}else for(let e=1;e<t+1;e++){const t=document.createElement("p");t.textContent=e,pages.appendChild(t)}i[0].classList.toggle("activePage"),i.forEach((e=>e.addEventListener("click",(t=>{s(t),(0,a.v)(),i.forEach((e=>{"activePage"===e.className&&e.classList.toggle("activePage")})),e.classList.toggle("activePage")}))));const o=document.createElement("p"),l=document.createElement("p");o.textContent=">",l.textContent="<",o.id="nextPageList",l.id="previousPageList",pages.appendChild(o),pages.prepend(l)}function s(e){void 0!==e&&(o.C.currentPage=Number(e.target.textContent)),o.C.startIndex=0,1!==o.C.currentPage&&(o.C.startIndex=40),2!==o.C.currentPage&&1!==o.C.currentPage&&(o.C.startIndex=o.C.startIndex*o.C.currentPage-40)}},352:(e,t,n)=>{n.d(t,{y:()=>l,q:()=>s});var o=n(573),a=n(42),d=n(250);let i;function l(e){i=e}function s(e,t){i.sort(((n,o)=>{let a,d;if("title"===t?(a=n.title.toLowerCase(),d=o.title.toLowerCase()):"authors"===t?(a=n.authors[0].toLowerCase(),d=o.authors[0].toLowerCase()):"pages"===t&&(a=n.pageCount,d=o.pageCount),"ascending"===e){if(a<d)return-1;if(d>a)return 1}else if("descending"===e){if(a>d)return-1;if(d<a)return 1}return 0})),(0,d.D)(),(0,o.O)("allBooks"),0!==a.F.length?(0,a.v)(i,void 0):(0,a.v)(void 0,i)}},588:(e,t,n)=>{n.d(t,{C:()=>l,O:()=>s});var o=n(781),a=n(336),d=n(471),i=n(902);n.e(527).then(n.bind(n,527));let l={currentPage:1,startIndex:0,isLoggedIn:!1,userID:"",userSettingsOnCloud:{}},s=[];(0,a.Aj)(o.I8,(e=>{l.userSettingsOnCloud=void 0,e?(l.isLoggedIn=!0,l.userID=e.uid,(0,o.Sx)(),(0,o.F7)()):(l.isLoggedIn=!1,(0,o.$4)(),(0,d.ri)(),(0,i.$)())}))},471:(e,t,n)=>{n.d(t,{_1:()=>a,AQ:()=>d,ri:()=>i});var o=n(588);const a={exitButton:"#ff6161",mainText:"#ffffff",secondaryText:"#101b47",uiBackground:"#6d66cf",backgroundImage:"url(../src/images/layered-waves-haikei.svg)",backgroundPosition:"fixed",backgroundSize:"cover"};let d={};function i(){!1===o.C.isLoggedIn&&null!==JSON.parse(window.localStorage.getItem("userSettings"))?d=JSON.parse(window.localStorage.getItem("userSettings")):!0===o.C.isLoggedIn&&void 0!==o.C.userSettingsOnCloud&&(d=o.C.userSettingsOnCloud);const e=document.querySelector(":root"),t=document.querySelector("#mainBackgroundImage");e.style.setProperty("--ui-background-color",d.uiBackground),e.style.setProperty("--main-text-color",d.mainText),e.style.setProperty("--secondary-text-color",d.secondaryText),e.style.setProperty("--exit-button-color",d.exitButton),t.style.backgroundImage=d.backgroundImage,t.style.backgroundSize=d.backgroundSize,t.style.position=d.backgroundPosition}},902:(e,t,n)=>{n.d(t,{Z:()=>d,$:()=>i});var o=n(588),a=n(471);function d(){localStorage.setItem("userSettings",JSON.stringify(a.AQ)),localStorage.setItem("userLibrary",JSON.stringify(o.O))}function i(){null===JSON.parse(window.localStorage.getItem("userLibrary"))&&window.localStorage.setItem("userLibrary",JSON.stringify([])),0!==JSON.parse(window.localStorage.getItem("userLibrary")).length&&o.O.push(...JSON.parse(window.localStorage.getItem("userLibrary")))}},746:(e,t,n)=>{function o(e){Array.from(e).forEach((e=>e.remove()))}function a(e){(e=Array.from(e)).forEach((e=>e.remove()))}n.d(t,{b:()=>o,L:()=>a})},564:(e,t,n)=>{n.d(t,{F:()=>l});var o=n(588),a=n(42),d=n(250),i=n(352);function l(){o.C.startIndex=0,o.C.currentPage=1,a.F.length=0,google.value="",addBookButton.style.visibility="visible",(0,i.y)(o.O),(0,d.w)(o.O.length),(0,a.v)(void 0,o.O)}document.querySelector("#myLibrary").addEventListener("click",l)}},e=>{e.O(0,[179],(()=>{e.E(527)}),5);e.O(0,[585],(()=>{return t=588,e(e.s=t);var t}));e.O()}]);